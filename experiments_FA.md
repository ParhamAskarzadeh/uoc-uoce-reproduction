# گزارش آزمایش‌ها و پیاده‌سازی

**پیش‌زمینه کوتاه**
- ریپوی اصلی خروجی‌های مدل‌های زبانی مختلف را در مسیر `final_result/` نگه می‌دارد.
- ارزیابی‌ها در کدهای `result_replication_src/` و `evaluations/` تعریف شده‌اند.
- برای بازتولید قابل اجرا روی CPU و بدون وابستگی خارجی، ما فقط از منطق Tuple-Level Exact Match استفاده کردیم که به `pandas` نیاز ندارد.

## 1) بازتولید نتیجه (Reproduction)
**هدف:** اجرای یکی از معیارهای گزارش‌شده در مقاله با کد اصلی.

**مسیر فایل‌ها**
- داده‌های ACOS: `project/original_repo/final_result/acos-comparison/`
- اسکریپت ارزیابی: `project/original_repo/result_replication_src/`

**نحوه اجرا**
- دستور:
  - `python3 project/experiments/reproduce_tuple_em.py`

**خروجی**
- فایل نتیجه: `project/experiments/baseline_results.json`
- نمونه خروجی (خلاصه):
  - MVP / ASTE: `F1 = 0.3475`
  - GEN_SCL_NAT / ASTE: `F1 = 0.3484`
  - MVP / ACOS: `F1 = 0.1348`
  - GEN_SCL_NAT / ACOS: `F1 = 0.0345`

**نکته اجرایی**
- به دلیل نبود دسترسی شبکه و نصب بسته‌ها، در اسکریپت بازتولید از یک «استاب» بسیار سبک برای `pandas` و `numpy` استفاده شده است تا صرفاً امکان import کد اصلی فراهم شود. منطق Tuple-Level هیچ وابستگی واقعی به این بسته‌ها ندارد و نتایج به‌صورت واقعی محاسبه شده‌اند.

## 2) تغییر معنادار (Improvement)
**ایده:**
در خروجی‌های ACOS، فیلد «موجودیت–دسته» ممکن است چندواژه‌ای باشد. در کد اصلی، این رشته با `split(' ')` شکسته می‌شود که باعث جابجایی ستون‌ها و افت تطابق می‌شود. ما یک پارسِرِ کم‌هزینه اضافه کردیم که فقط اولین فاصله را جدا می‌کند تا دسته‌ی چندواژه‌ای حفظ شود.

**پیاده‌سازی**
- اسکریپت: `project/experiments/entity_category_fix_eval.py`
- تابع کلیدی:
  - `split_entcat` فقط روی اولین فاصله جدا می‌کند.

**نحوه اجرا**
- دستور:
  - `python3 project/experiments/entity_category_fix_eval.py`

**نتیجه**
- MVP / ASTE:
  - قبل: `F1 = 0.3475`
  - بعد از اصلاح: `F1 = 0.3546`
- تغییر قابل مشاهده و منطبق با منطق داده‌ها است.

## 3) توضیح پیاده‌سازی (Implementation Notes)
- تمام کدهای جدید خارج از ریپوی اصلی و در `project/experiments` قرار دارند.
- هیچ فایل از ریپوی اصلی دست‌کاری نشده است.
- تمام اسکریپت‌ها با کتابخانه استاندارد پایتون اجرا می‌شوند.

## 4) پیشنهاد برای توسعه‌های بعدی
1. اضافه کردن یک مرحله نرمال‌سازی لغوی برای فیلدهای متنی (حذف علائم نگارشی و فاصله‌های زائد).
2. افزودن ارزیابی component-level با وابستگی‌های کامل (در صورت امکان نصب `pandas`).
3. اجرای LLM به‌صورت آفلاین با مدل کوچک‌تر برای تولید خروجی جدید.
